{"version":3,"sources":["api/api.js","components/MarketTable.js","components/CompanyTable.js","components/KeywordTable.js","components/KeywordCountTable.js","components/ModelTable.js","components/ShellTable.js","components/AppTable.js","components/AdTable.js","components/VcTable.js","App.js","serviceWorker.js","index.js"],"names":["api","axios","create","baseURL","tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","Table","companies","lookup","forEach","company","company_name","useState","data","setData","iserror","setIserror","errorMessages","setErrorMessages","useEffect","get","then","res","catch","error","console","log","className","Grid","container","spacing","item","xs","Alert","severity","map","msg","i","key","title","columns","field","icons","editable","onRowUpdate","newData","oldData","Promise","resolve","errorList","market_name","push","keywords","length","patch","_id","dataUpdate","tableData","window","location","reload","handleRowUpdate","onRowAdd","undefined","post","dataToAdd","handleRowAdd","onRowDelete","delete","dataDelete","index","x","filter","handleRowDelete","options","exportButton","Yes","No","total_funding","last_funding_date","last_funding_amount","top_player","keyword","markets","search_engine","count","country","model_name","category","description","shell_name","market","app_name","planned_release","model","site","ad_type","ad_costs","contact_info","vc_name","companies_funded","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","App","setCompanies","classes","AppBar","position","Toolbar","IconButton","edge","color","aria-label","to","style","textDecoration","Button","path","MarketTable","KeywordTable","AppTable","ShellTable","ModelTable","AdTable","VcTable","KeywordCountTable","CompanyTable","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.bf2c3175.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: `https://table-project.azurewebsites.net`,\r\n\t//baseURL: `http://localhost:3000`,\r\n});\r\n\r\nexport default api;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Market Name\", field: \"market_name\" },\r\n\t\t{ title: \"Companies\", field: \"companies\" },\r\n\t\t{ title: \"Keywords\", field: \"keywords\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/markets\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.market_name === \"\") {\r\n\t\t\terrorList.push(\"Please enter market name\");\r\n\t\t}\r\n\t\tif (newData.companies === \"\") {\r\n\t\t\terrorList.push(\"Please enter companies\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.keywords === \"\"\r\n\t\t\t//validateEmail(newData.keywords) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid keywords\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/markets/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.market_name === undefined) {\r\n\t\t\terrorList.push(\"Please enter market name\");\r\n\t\t}\r\n\t\tif (newData.companies === undefined) {\r\n\t\t\terrorList.push(\"Please enter companies\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.keywords === undefined\r\n\t\t\t//validateEmail(newData.email) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter keywords\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/markets\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/markets/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Market Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table() {\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Company Name\", field: \"company_name\" },\r\n\t\t//{ title: \"Companies\", field: \"companies\" },\r\n\t\t{ title: \"Keywords\", field: \"keywords\" },\r\n\t\t{ title: \"Total Funding\", field: \"total_funding\" },\r\n\t\t{ title: \"Last Funding Date\", field: \"last_funding_date\" },\r\n\t\t{ title: \"Last Funding Amount\", field: \"last_funding_amount\" },\r\n\t\t{\r\n\t\t\ttitle: \"Top Player\",\r\n\t\t\tfield: \"top_player\",\r\n\t\t\tlookup: { Yes: \"Yes\", No: \"No\" },\r\n\t\t},\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\tconsole.log(\"data\", data);\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/companies\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.company_name === \"\") {\r\n\t\t\terrorList.push(\"Please enter company name\");\r\n\t\t}\r\n\t\tif (newData.total_funding === \"\") {\r\n\t\t\terrorList.push(\"Please enter total fundings\");\r\n\t\t}\r\n\t\tif (newData.last_funding_date === \"\") {\r\n\t\t\terrorList.push(\"Please enter last funding date\");\r\n\t\t}\r\n\t\tif (newData.last_funding_amount === \"\") {\r\n\t\t\terrorList.push(\"Please enter last funding amount\");\r\n\t\t}\r\n\t\tif (newData.top_player === \"\") {\r\n\t\t\terrorList.push(\"Please enter top player\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.keywords === \"\"\r\n\t\t\t//validateEmail(newData.keywords) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid keywords\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/companies/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.company_name === undefined) {\r\n\t\t\terrorList.push(\"Please enter company name\");\r\n\t\t}\r\n\t\tif (newData.total_funding === undefined) {\r\n\t\t\terrorList.push(\"Please enter total fundings\");\r\n\t\t}\r\n\t\tif (newData.last_funding_date === undefined) {\r\n\t\t\terrorList.push(\"Please enter last funding date\");\r\n\t\t}\r\n\t\tif (newData.last_funding_amount === undefined) {\r\n\t\t\terrorList.push(\"Please enter last funding amount\");\r\n\t\t}\r\n\t\tif (newData.top_player === undefined) {\r\n\t\t\terrorList.push(\"Please enter top player\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.keywords === undefined\r\n\t\t\t//validateEmail(newData.keywords) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid keywords\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/companies\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/companies/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Company Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Keyword\", field: \"keyword\" },\r\n\t\t{ title: \"Companies\", field: \"companies\" },\r\n\t\t{ title: \"Markets\", field: \"markets\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/keywords\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.keyword === \"\") {\r\n\t\t\terrorList.push(\"Please enter keyword\");\r\n\t\t}\r\n\t\tif (newData.companies === \"\") {\r\n\t\t\terrorList.push(\"Please enter companies\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.markets === \"\"\r\n\t\t\t//validateEmail(newData.markets) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid markets\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/keywords/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.keyword === undefined) {\r\n\t\t\terrorList.push(\"Please enter keyword\");\r\n\t\t}\r\n\t\tif (newData.companies === undefined) {\r\n\t\t\terrorList.push(\"Please enter companies\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.markets === undefined\r\n\t\t\t//validateEmail(newData.email) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter markets\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/keywords\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/keywords/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Keyword Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Keyword\", field: \"keyword\" },\r\n\t\t{ title: \"Search Engine\", field: \"search_engine\" },\r\n\t\t{ title: \"Country\", field: \"country\" },\r\n\t\t{ title: \"Count\", field: \"count\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/keyword_count\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.keyword === \"\") {\r\n\t\t\terrorList.push(\"Please enter keyword\");\r\n\t\t}\r\n\t\tif (newData.search_engine === \"\") {\r\n\t\t\terrorList.push(\"Please enter search engine\");\r\n\t\t}\r\n\t\tif (newData.count === \"\") {\r\n\t\t\terrorList.push(\"Please enter count\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.country === \"\"\r\n\t\t\t//validateEmail(newData.country) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid country\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/keyword_count/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.keyword === undefined) {\r\n\t\t\terrorList.push(\"Please enter keyword\");\r\n\t\t}\r\n\t\tif (newData.search_engine === undefined) {\r\n\t\t\terrorList.push(\"Please enter search engine\");\r\n\t\t}\r\n\t\tif (newData.count === undefined) {\r\n\t\t\terrorList.push(\"Please enter count\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.country === undefined\r\n\t\t\t//validateEmail(newData.country) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid country\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/keyword_count\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/keyword_count/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Keyword Count Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Model Name\", field: \"model_name\" },\r\n\t\t{ title: \"Category\", field: \"category\" },\r\n\t\t{ title: \"Description\", field: \"description\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/models\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.model_name === \"\") {\r\n\t\t\terrorList.push(\"Please enter model name\");\r\n\t\t}\r\n\t\tif (newData.category === \"\") {\r\n\t\t\terrorList.push(\"Please enter category\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.description === \"\"\r\n\t\t\t//validateEmail(newData.description) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid description\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/models/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.model_name === undefined) {\r\n\t\t\terrorList.push(\"Please enter model name\");\r\n\t\t}\r\n\t\tif (newData.category === undefined) {\r\n\t\t\terrorList.push(\"Please enter category\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.description === undefined\r\n\t\t\t//validateEmail(newData.description) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid description\");\r\n\t\t}\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/models\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/models/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Model Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Shell Name\", field: \"shell_name\" },\r\n\t\t{ title: \"Description\", field: \"description\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/shells\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.shell_name === \"\") {\r\n\t\t\terrorList.push(\"Please enter shell name\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.description === \"\"\r\n\t\t\t//validateEmail(newData.description) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid description\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/shells/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.shell_name === undefined) {\r\n\t\t\terrorList.push(\"Please enter shell name\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.description === undefined\r\n\t\t\t//validateEmail(newData.description) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid description\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/shells\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/shells/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Shell Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Market\", field: \"market\" },\r\n\t\t{ title: \"App Name\", field: \"app_name\" },\r\n\t\t{ title: \"Description\", field: \"description\" },\r\n\t\t{ title: \"Planned Release\", field: \"planned_release\" },\r\n\t\t{ title: \"Model\", field: \"model\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/apps\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.market === \"\") {\r\n\t\t\terrorList.push(\"Please enter market\");\r\n\t\t}\r\n\t\tif (newData.app_name === \"\") {\r\n\t\t\terrorList.push(\"Please enter app name\");\r\n\t\t}\r\n\t\tif (newData.planned_release === \"\") {\r\n\t\t\terrorList.push(\"Please enter planned release\");\r\n\t\t}\r\n\t\tif (newData.model === \"\") {\r\n\t\t\terrorList.push(\"Please enter model\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.description === \"\"\r\n\t\t\t//validateEmail(newData.description) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid description\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/apps/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.market === undefined) {\r\n\t\t\terrorList.push(\"Please enter market\");\r\n\t\t}\r\n\t\tif (newData.app_name === undefined) {\r\n\t\t\terrorList.push(\"Please enter app name\");\r\n\t\t}\r\n\t\tif (newData.planned_release === undefined) {\r\n\t\t\terrorList.push(\"Please enter planned release\");\r\n\t\t}\r\n\t\tif (newData.model === undefined) {\r\n\t\t\terrorList.push(\"Please enter model\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tnewData.description === undefined\r\n\t\t\t//validateEmail(newData.description) === false\r\n\t\t) {\r\n\t\t\terrorList.push(\"Please enter valid description\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/apps\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/apps/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"App Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"Site\", field: \"site\" },\r\n\t\t{ title: \"Ad Type\", field: \"ad_type\" },\r\n\t\t{ title: \"Ad Costs\", field: \"ad_costs\" },\r\n\t\t{ title: \"Contact Info\", field: \"contact_info\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/ads\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.site === \"\") {\r\n\t\t\terrorList.push(\"Please enter site\");\r\n\t\t}\r\n\t\tif (newData.ad_type === \"\") {\r\n\t\t\terrorList.push(\"Please enter ad type\");\r\n\t\t}\r\n\t\tif (newData.ad_costs === \"\") {\r\n\t\t\terrorList.push(\"Please enter ad costs\");\r\n\t\t}\r\n\t\tif (newData.contact_info === \"\") {\r\n\t\t\terrorList.push(\"Please enter contact info\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/ads/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.site === undefined) {\r\n\t\t\terrorList.push(\"Please enter site\");\r\n\t\t}\r\n\t\tif (newData.ad_type === undefined) {\r\n\t\t\terrorList.push(\"Please enter ad type\");\r\n\t\t}\r\n\t\tif (newData.ad_costs === undefined) {\r\n\t\t\terrorList.push(\"Please enter ad costs\");\r\n\t\t}\r\n\t\tif (newData.contact_info === undefined) {\r\n\t\t\terrorList.push(\"Please enter contact info\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/ads\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/ads/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"Display Ads Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport Avatar from \"react-avatar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport MaterialTable from \"material-table\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport api from \"../api/api\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst tableIcons = {\r\n\tAdd: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n\tCheck: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n\tClear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tDelete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n\tDetailPanel: forwardRef((props, ref) => (\r\n\t\t<ChevronRight {...props} ref={ref} />\r\n\t)),\r\n\tEdit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n\tExport: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n\tFilter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n\tFirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n\tLastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n\tNextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n\tPreviousPage: forwardRef((props, ref) => (\r\n\t\t<ChevronLeft {...props} ref={ref} />\r\n\t)),\r\n\tResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n\tSearch: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n\tSortArrow: forwardRef((props, ref) => (\r\n\t\t<ArrowDownward {...props} ref={ref} />\r\n\t)),\r\n\tThirdStateCheck: forwardRef((props, ref) => (\r\n\t\t<Remove {...props} ref={ref} />\r\n\t)),\r\n\tViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\n// function validateEmail(email) {\r\n// \tconst re = /^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]))$/;\r\n// \treturn re.test(String(email).toLowerCase());\r\n// }\r\n\r\nfunction Table({ companies }) {\r\n\tvar lookup = {};\r\n\tcompanies.forEach((company) => {\r\n\t\tlookup[company.company_name] = company.company_name;\r\n\t});\r\n\r\n\tvar columns = [\r\n\t\t//{ title: \"id\", field: \"id\", hidden: true },\r\n\t\t// {\r\n\t\t// \ttitle: \"Avatar\",\r\n\t\t// \trender: (rowData) => (\r\n\t\t// \t\t<Avatar\r\n\t\t// \t\t\tmaxInitials={1}\r\n\t\t// \t\t\tsize={40}\r\n\t\t// \t\t\tround={true}\r\n\t\t// \t\t\tname={rowData === undefined ? \" \" : rowData.first_name}\r\n\t\t// \t\t/>\r\n\t\t// \t),\r\n\t\t// },\r\n\t\t{ title: \"VC Name\", field: \"vc_name\" },\r\n\t\t{ title: \"Location\", field: \"location\" },\r\n\t\t{ title: \"Markets\", field: \"markets\" },\r\n\t\t{ title: \"Companies Funded\", field: \"companies_funded\" },\r\n\t];\r\n\tconst [data, setData] = useState([]); //table data\r\n\r\n\t//for error handling\r\n\tconst [iserror, setIserror] = useState(false);\r\n\tconst [errorMessages, setErrorMessages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/vcs\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst handleRowUpdate = (newData, oldData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.vc_name === \"\") {\r\n\t\t\terrorList.push(\"Please enter VC name\");\r\n\t\t}\r\n\t\tif (newData.location === \"\") {\r\n\t\t\terrorList.push(\"Please enter location\");\r\n\t\t}\r\n\t\tif (newData.markets === \"\") {\r\n\t\t\terrorList.push(\"Please enter markets\");\r\n\t\t}\r\n\t\tif (newData.companies_funded === \"\") {\r\n\t\t\terrorList.push(\"Please enter companies funded\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\tapi.patch(\"/vcs/\" + newData._id, newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst dataUpdate = [...data];\r\n\t\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\t\tdataUpdate[index] = newData;\r\n\t\t\t\t\tsetData([...dataUpdate]);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Update failed! Server error\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowAdd = (newData, resolve) => {\r\n\t\t//validation\r\n\t\tlet errorList = [];\r\n\t\tif (newData.vc_name === undefined) {\r\n\t\t\terrorList.push(\"Please enter VC name\");\r\n\t\t}\r\n\t\tif (newData.location === undefined) {\r\n\t\t\terrorList.push(\"Please enter location\");\r\n\t\t}\r\n\t\tif (newData.markets === undefined) {\r\n\t\t\terrorList.push(\"Please enter markets\");\r\n\t\t}\r\n\t\tif (newData.companies_funded === undefined) {\r\n\t\t\terrorList.push(\"Please enter companies funded\");\r\n\t\t}\r\n\r\n\t\tif (errorList.length < 1) {\r\n\t\t\t//no error\r\n\t\t\tapi.post(\"/vcs\", newData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet dataToAdd = [...data];\r\n\t\t\t\t\tdataToAdd.push(newData);\r\n\t\t\t\t\tsetData(dataToAdd);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t\twindow.location.reload(false);\r\n\t\t\t\t\tsetErrorMessages([]);\r\n\t\t\t\t\tsetIserror(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetErrorMessages([\"Cannot add data. Server error!\"]);\r\n\t\t\t\t\tsetIserror(true);\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetErrorMessages(errorList);\r\n\t\t\tsetIserror(true);\r\n\t\t\tresolve();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRowDelete = (oldData, resolve) => {\r\n\t\tapi.delete(\"/vcs/\" + oldData._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst dataDelete = [...data];\r\n\t\t\t\tconst index = oldData.tableData._id;\r\n\t\t\t\tvar x = dataDelete.filter((item) => item._id !== index);\r\n\t\t\t\t//dataDelete.splice(index, 1);\r\n\t\t\t\tsetData([...x]);\r\n\t\t\t\tresolve();\r\n\t\t\t\twindow.location.reload(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetErrorMessages([\"Delete failed! Server error\"]);\r\n\t\t\t\tsetIserror(true);\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"table\">\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{iserror && (\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">\r\n\t\t\t\t\t\t\t\t{errorMessages.map((msg, i) => {\r\n\t\t\t\t\t\t\t\t\treturn <div key={i}>{msg}</div>;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"VCs Table\"\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\ticons={tableIcons}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowUpdate(newData, oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowAdd(newData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\thandleRowDelete(oldData, resolve);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\texportButton: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* <Grid item xs={3}></Grid> */}\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Table;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport \"./App.css\";\r\n\r\nimport MarketTable from \"./components/MarketTable\";\r\nimport CompanyTable from \"./components/CompanyTable\";\r\nimport KeywordTable from \"./components/KeywordTable\";\r\nimport KeywordCountTable from \"./components/KeywordCountTable\";\r\nimport ModelTable from \"./components/ModelTable\";\r\nimport ShellTable from \"./components/ShellTable\";\r\nimport AppTable from \"./components/AppTable\";\r\nimport AdTable from \"./components/AdTable\";\r\nimport VcTable from \"./components/VcTable\";\r\n\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport api from \"./api/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n}));\r\n\r\nfunction App() {\r\n\tconst [companies, setCompanies] = useState([]);\r\n\tconst classes = useStyles();\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/companies\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCompanies(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(\"Error\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<Router>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\taria-label=\"menu\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Companies</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/markets\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Markets</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/keywords\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Keywords</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/keyword_count\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Keyword Count</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/apps\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Apps</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/models\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Models</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/shells\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Shells</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/ads\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">Ads</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/vcs\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button color=\"inherit\">VCs</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path=\"/markets\">\r\n\t\t\t\t\t\t\t<MarketTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/keywords\">\r\n\t\t\t\t\t\t\t<KeywordTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/apps\">\r\n\t\t\t\t\t\t\t<AppTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/shells\">\r\n\t\t\t\t\t\t\t<ShellTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/models\">\r\n\t\t\t\t\t\t\t<ModelTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/ads\">\r\n\t\t\t\t\t\t\t<AdTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/vcs\">\r\n\t\t\t\t\t\t\t<VcTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/keyword_count\">\r\n\t\t\t\t\t\t\t<KeywordCountTable companies={companies} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/\">\r\n\t\t\t\t\t\t\t<CompanyTable />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}