(this["webpackJsonpmaterial-table-api-crud"]=this["webpackJsonpmaterial-table-api-crud"]||[]).push([[0],{377:function(e,t,a){e.exports=a(492)},382:function(e,t,a){},383:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(382),a(383),a(120)),s=a(202),f=a(518),l=a(349),u=a.n(l),d=a(357),m=a.n(d),b=a(367),j=a.n(b),w=a(358),O=a.n(w),h=a(365),p=a.n(h),E=a(240),g=a.n(E),v=a(239),k=a.n(v),R=a(359),P=a.n(R),S=a(360),y=a.n(S),_=a(362),C=a.n(_),D=a(363),A=a.n(D),N=a(364),x=a.n(N),M=a(368),T=a.n(M),U=a(361),B=a.n(U),F=a(366),J=a.n(F),L=a(369),W=a.n(L),I=a(521),K=a(356),V=a.n(K).a.create({baseURL:"http://localhost:3000"}),$=(a(491),{Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(O.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(J.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(j.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}))});var q=function(e){var t=e.name,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],l=c[1];console.log("data",o);var d=Object(n.useState)(!1),m=Object(s.a)(d,2),b=m[0],j=m[1],w=Object(n.useState)([]),O=Object(s.a)(w,2),h=O[0],p=O[1];return Object(n.useEffect)((function(){V.get("/markets").then((function(e){l(e.data)})).catch((function(e){console.log("Error")}))}),[]),r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,b&&r.a.createElement(I.a,{severity:"error"},h.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(u.a,{title:t,columns:[{title:"id",field:"id",hidden:!0},{title:"Market Name",field:"market_name"},{title:"Companies",field:"companies"},{title:"Keywords",field:"keywords"}],data:o,icons:$,editable:{onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){var n=[];""===e.market_name&&n.push("Please enter market name"),""===e.companies&&n.push("Please enter companies"),""===e.keywords&&n.push("Please enter valid keywords"),n.length<1?V.patch("/markets/"+e._id,e).then((function(n){var r=Object(i.a)(o);r[t.tableData._id]=e,l(Object(i.a)(r)),a(),window.location.reload(!1),j(!1),p([])})).catch((function(e){p(["Update failed! Server error"]),j(!0),a()})):(p(n),j(!0),a())}(e,t,a)}))},onRowAdd:function(e){return new Promise((function(t){!function(e,t){var a=[];void 0===e.market_name&&a.push("Please enter market name"),void 0===e.companies&&a.push("Please enter companies"),void 0===e.keywords&&a.push("Please enter keywords"),a.length<1?V.post("/markets",e).then((function(a){var n=Object(i.a)(o);n.push(e),l(n),t(),window.location.reload(!1),p([]),j(!1)})).catch((function(e){p(["Cannot add data. Server error!"]),j(!0),t()})):(p(a),j(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){V.delete("/markets/"+e._id).then((function(a){var n=Object(i.a)(o),r=e.tableData._id,c=n.filter((function(e){return e._id!==r}));l(Object(i.a)(c)),t(),window.location.reload(!1)})).catch((function(e){p(["Delete failed! Server error"]),j(!0),t()}))}(e,t)}))}}})))))};var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Tables App"),r.a.createElement(q,{name:"Market Table"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[377,1,2]]]);
//# sourceMappingURL=main.9e7ea815.chunk.js.map